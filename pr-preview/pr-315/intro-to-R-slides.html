<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">
<title>Regression Models for Epidemiology – 1 Statistical computing in R</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
<link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-327cab17de08e4a17faa7d61f48ae591.css">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VS314RJ2KP"></script><script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-VS314RJ2KP', { 'anonymize_ip': true});
  </script><link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<script type="application/json" class="js-hypothesis-config">
  {
    "theme": "clean",
    "openSidebar": false,
    "enableExperimentalNewNoteButton": true
  }
  </script><script async="" src="https://hypothes.is/embed.js"></script><script>
    window.document.addEventListener("DOMContentLoaded", function (_event) {
      document.body.classList.add('hypothesis-enabled');
    });
  </script><style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center"><h1 class="title">
<span class="header-section-number">1</span> Statistical computing in R</h1>

<div class="quarto-title-authors">
</div>

</section><section id="online-r-learning-resources" class="title-slide slide level1 center" data-number="1.1"><h1>
<span class="header-section-number">1.1</span> Online R learning resources</h1>
<p>There are an overwhelming number of great resources for learning R; here are some recommendations:</p>
<ul>
<li>
<a href="https://education.rstudio.com"><em>The RStudio Education website</em></a>, especially:
<ul>
<li><a href="https://education.rstudio.com/learn/"><em>Finding your way to R</em></a></li>
</ul>
</li>
<li>
<em>R for Epidemiology</em> (<span class="citation" data-cites="r4epi">Cannell and Livingston (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2024</a>)</span>)</li>
<li>
<em>The Epidemiologist R Handbook</em> (<span class="citation" data-cites="epirhb">Batra (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2024</a>)</span>)</li>
<li>
<em>Practical R for Epidemiologists</em> (<span class="citation" data-cites="practicalr4epi">Myatt (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2022</a>)</span>)</li>
<li>
<em>R for Data Science</em> (<span class="citation" data-cites="r4ds">Wickham, Çetinkaya-Rundel, and Grolemund (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span>)</li>
<li>
<em>Advanced R</em> (<span class="citation" data-cites="wickham2019advanced">Wickham (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2019</a>)</span>)</li>
<li>
<em>R Graphics Cookbook</em> (<span class="citation" data-cites="changRgraphicscookbook">Chang (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2024</a>)</span>)</li>
<li>
<em>R Packages</em> (<span class="citation" data-cites="rpkgs">Wickham and Bryan (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span>)</li>
<li>
<span class="citation" data-cites="NahhasIntroR">Nahhas (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span> (same author as <span class="citation" data-cites="NahhasIRMPHR">Nahhas (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2024</a>)</span>)</li>
<li><span class="citation" data-cites="practicalr4epi">Myatt (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2022</a>)</span></li>
<li>
<span class="citation" data-cites="phdswR">Aragon (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2017</a>)</span> (previously <span class="citation" data-cites="appliedepiusingR">Aragon (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2013</a>)</span>): Author is State Public Health Officer and Director, California Department of Public Health, <a href="https://drtomasaragon.github.io/" class="uri">https://drtomasaragon.github.io/</a>)</li>
<li>
<em>SAS and R</em> (<span class="citation" data-cites="kleinman2009sas">Kleinman and Horton (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2009</a>)</span>)</li>
<li>The <a href="https://r-sassy.org/">“sassy system”</a> is “an integrated set of packages designed to make programmers more productive in R, particularly those with a background in SAS® software. The system leverages useful concepts and thought patterns to create a more efficient and satisfactory R programming experience.”
<ul>
<li>In particular, the <a href="https://cran.r-project.org/web/packages/procs/">procs</a> package in R provides versions of common SAS procedures, such as ‘proc freq’, ‘proc means’, ‘proc ttest’, ‘proc reg’, ‘proc transpose’, ‘proc sort’, and ‘proc print’</li>
</ul>
</li>
<li>
<em>R for SAS and SPSS users</em> (<span class="citation" data-cites="muenchen2011r">Muenchen (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2011</a>)</span>)</li>
<li>
<em>Building reproducible analytical pipelines with R</em> (<span class="citation" data-cites="rapR">Rodrigues (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span>)</li>
<li>
<em>Posit Recipes: Some tasty R code snippets</em>: <a href="https://posit.cloud/learn/recipes" class="uri">https://posit.cloud/learn/recipes</a>
</li>
</ul></section><section id="uc-davis-r-programming-courses" class="title-slide slide level1 center" data-number="1.2"><h1>
<span class="header-section-number">1.2</span> UC Davis R programming courses</h1>
<p>There are several dedicated UC Davis courses on R programming:</p>
<ul>
<li>
<a href="https://catalog.ucdavis.edu/search/?q=BIS+015L">BIS 015L</a>: Introduction to Data Science for Biologists
<ul>
<li>see course materials at <a href="https://jmledford3115.github.io/datascibiol/" class="uri">https://jmledford3115.github.io/datascibiol/</a>
</li>
</ul>
</li>
<li>
<a href="https://catalog.ucdavis.edu/search/?q=ENV+224">ENV 224</a>/ <a href="https://catalog.ucdavis.edu/search/?q=ECL+224">ECL 224</a>: Data Management &amp; Visualization in R
<ul>
<li>see lecture videos and course materials at <a href="https://ucd-r-davis.github.io/R-DAVIS/" class="uri">https://ucd-r-davis.github.io/R-DAVIS/</a>
</li>
</ul>
</li>
<li>
<a href="https://catalog.ucdavis.edu/search/?q=ESP+106">ESP 106</a>: Environmental Data Science</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/15b">STA 015B</a>: Introduction to Statistical Data Science II</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/32">STA 032</a>: Gateway to Statistical Data Science</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/35A">STA 035A</a>: Statistical Data Science</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/35B">STA 035B</a>: Statistical Data Science II</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/141A">STA 141A</a>: Fundamentals of Statistical Data Science</li>
<li>
<a href="https://statistics.ucdavis.edu/expanded-descriptions/242">STA 242</a>: Introduction to Statistical Programming</li>
<li>
<a href="https://catalog.ucdavis.edu/search/?q=ABG+250">ABG 250</a>: Mathematical Modeling in Biological Systems</li>
<li><dl>
<dt><a href="https://catalog.ucdavis.edu/search/?q=PSC+203A">PSC 203A</a></dt>
<dd>
“Data Cleaning &amp; Management in the Social Sciences”
</dd>
</dl></li>
<li>
<a href="https://catalog.ucdavis.edu/search/?q=PSC+203B">PSC 203B</a> “Data Visualization in the Social Sciences”</li>
</ul>
<p><a href="https://datalab.ucdavis.edu/">DataLab</a> maintains another list of courses: <a href="https://datalab.ucdavis.edu/courses/" class="uri">https://datalab.ucdavis.edu/courses/</a></p>
<p>DataLab also provides short-form workshops on R programming and data science: <a href="https://datalab.ucdavis.edu/workshops/" class="uri">https://datalab.ucdavis.edu/workshops/</a></p>
</section><section id="demographics-tables" class="title-slide slide level1 center" data-number="1.3"><h1>
<span class="header-section-number">1.3</span> Demographics tables</h1>
<p>Demographics tables are important first steps in many data analyses and papers.</p>
<p>The <code>gtsummary</code> package is flexible and can probably provide whatever table options you’re looking for, and if not, the developers are usually very welcoming of feature requests.</p>
<p>If <code>gtsummary</code> is really not doing what you want, other packages I’ve used for demographics tables include:</p>
<ul>
<li>
<a href="https://cran.r-project.org/web/packages/procs/" class="uri">https://cran.r-project.org/web/packages/procs/</a> (replicates common SAS commands)</li>
<li>
<a href="https://cran.r-project.org/web/packages/arsenal/index.html" class="uri">https://cran.r-project.org/web/packages/arsenal/index.html</a> (from the Mayo Clinics)</li>
<li><a href="https://cran.r-project.org/web/packages/table1/index.html" class="uri">https://cran.r-project.org/web/packages/table1/index.html</a></li>
</ul></section><section><section id="writing-functions" class="title-slide slide level1 center" data-number="1.4"><h1>
<span class="header-section-number">1.4</span> Writing functions</h1>
<ul>
<li>Read this ASAP: <a href="https://r4ds.hadley.nz/functions.html" class="uri">https://r4ds.hadley.nz/functions.html</a>
</li>
<li>Use this as a reference: <a href="https://adv-r.hadley.nz/functions.html" class="uri">https://adv-r.hadley.nz/functions.html</a>
</li>
</ul></section><section id="methods-versus-functions" class="slide level2"><h2>Methods versus functions</h2>
<p>See <a href="https://adv-r.hadley.nz/oo.html#oop-systems" class="uri">https://adv-r.hadley.nz/oo.html#oop-systems</a></p>
</section><section id="debugging-code" class="slide level2"><h2>Debugging code</h2>
<ul>
<li><p><a href="https://adv-r.hadley.nz/debugging.html" class="uri">https://adv-r.hadley.nz/debugging.html</a></p></li>
<li><p><a href="https://www.maths.ed.ac.uk/~swood34/RCdebug/RCdebug.html" class="uri">https://www.maths.ed.ac.uk/~swood34/RCdebug/RCdebug.html</a></p></li>
</ul></section></section><section><section id="data.frames-and-tibbles" class="title-slide slide level1 center" data-number="1.5"><h1>
<span class="header-section-number">1.5</span> <code>data.frame</code>s and <code>tibble</code>s</h1>

</section><section id="displaying-tibbles" class="slide level2"><h2>Displaying <code>tibble</code>s</h2>
<p>See <code><a href="https://tibble.tidyverse.org/articles/digits.html">vignette("digits", package = "tibble")</a></code></p>
</section></section><section id="the-tidyverse" class="title-slide slide level1 center scrollable" data-number="1.6"><h1>
<span class="header-section-number">1.6</span> The <code>tidyverse</code>
</h1>
<blockquote>
<p>The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
</blockquote>
<ul>
<li>https://www.tidyverse.org/</li>
</ul>
<p>These packages are being actively developed by <a href="https://hadley.nz/">Hadley Wickham</a> and his colleagues at <a href="https://posit.co/">posit</a><sup>1</sup>.</p>
<p>Details:</p>
<ul>
<li><span class="citation" data-cites="welcometidyverse">Wickham et al. (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2019</a>)</span></li>
<li><span class="citation" data-cites="r4ds">Wickham, Çetinkaya-Rundel, and Grolemund (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span></li>
<li><span class="citation" data-cites="kuhn2022tidy">Kuhn and Silge (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2022</a>)</span></li>
</ul><aside><ol class="aside-footnotes"><li id="fn1"><p><a href="https://posit.co/blog/rstudio-is-becoming-posit/">the company formerly known as RStudio</a></p></li></ol></aside></section><section><section id="piping" class="title-slide slide level1 center" data-number="1.7"><h1>
<span class="header-section-number">1.7</span> Piping</h1>
<p>See <a href="https://r4ds.hadley.nz/data-transform.html#sec-the-pipe"><span class="citation" data-cites="r4ds">Wickham, Çetinkaya-Rundel, and Grolemund (<span>2023</span>)</span></a> for details.</p>
<p>There are currently (2025) two commonly-used pipe operators in R:</p>
<ul>
<li><p><code>%&gt;%</code>: the “<code>magrittr</code> pipe”, from the <a href="https://cran.r-project.org/web/packages/magrittr/index.html"><code>magrittr</code></a> package (<span class="citation" data-cites="magrittr">Bache and Wickham (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2022</a>)</span>; <a href="https://r-pkgs.org/dependencies-in-practice.html#re-exporting">re-exported</a> by <a href="https://cran.r-project.org/web/packages/dplyr/index.html"><code>dplyr</code></a> and others) .</p></li>
<li><p><code>|&gt;</code>: the “native pipe”, from base R (<span class="math inline">\(\geq\)</span> 4.1.0)</p></li>
</ul>
<p>See <a href="https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe" class="uri">https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe</a> for a comparison of their behavior.</p>
</section><section id="which-pipe-should-i-use" class="slide level2"><h2>Which pipe should I use?</h2>
<p><span class="citation" data-cites="r4ds">Wickham, Çetinkaya-Rundel, and Grolemund (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span> <a href="https://r4ds.hadley.nz/data-transform.html#sec-the-pipe:~:text=So%20why%20do%20we%20recommend%20the%20base%20pipe%3F">recommends the native pipe</a>:</p>
<blockquote>
<p>For simple cases, |&gt; and %&gt;% behave identically. So why do we recommend the base pipe? Firstly, because it’s part of base R, it’s always available for you to use, even when you’re not using the tidyverse. Secondly, |&gt; is quite a bit simpler than %&gt;%: in the time between the invention of %&gt;% in 2014 and the inclusion of |&gt; in R 4.1.0 in 2021, we gained a better understanding of the pipe. This allowed the base implementation to jettison infrequently used and less important features.</p>
</blockquote>
</section><section id="why-doesnt-ggplot2-use-piping" class="slide level2"><h2>Why doesn’t <code>ggplot2</code> use piping?</h2>
<p>Here’s <code>tidyverse</code> creator Hadley Wickham’s answer (from 2018):</p>
<blockquote>
<p>I think it’s worth unpacking this question into a few smaller pieces:</p>
<ul>
<li>Should ggplot2 use the pipe? IMO, yes.</li>
<li>Could ggplot2 support both the pipe and plus? No</li>
<li>Would it be worth it to create a ggplot3 that uses the pipe? No.</li>
</ul>
</blockquote>
<p><a href="https://forum.posit.co/t/why-cant-ggplot2-use/4372/7" class="uri">https://forum.posit.co/t/why-cant-ggplot2-use/4372/7</a></p>
</section></section><section id="grouping-operations-in-dplyr" class="title-slide slide level1 center" data-number="1.8"><h1>
<span class="header-section-number">1.8</span> Grouping operations in <code>dplyr</code>
</h1>
<p>The <code>dplyr</code> package provides two approaches for grouping data:</p>
<ul>
<li>
<strong>Persistent grouping</strong> with <code>group_by()</code>: Creates a grouped data frame that remains grouped for subsequent operations until explicitly ungrouped</li>
<li>
<strong>Per-operation grouping</strong> with the <code>.by</code> argument: Applies grouping for a single operation only, without modifying the data frame structure</li>
</ul>
<p><strong>Recommendation</strong>: Default to using per-operation grouping with the <code>.by</code> argument, as it is more explicit, reduces the risk of accidentally operating on grouped data, and eliminates the need to remember to <code>ungroup()</code>.</p>
<p>For a detailed comparison of these approaches, see <a href="https://dplyr.tidyverse.org/reference/dplyr_by.html"><code>?dplyr_by</code></a>.</p>
</section><section id="quarto" class="title-slide slide level1 center" data-number="1.9"><h1>
<span class="header-section-number">1.9</span> Quarto</h1>
<p>Quarto is a system for writing documents with embedded R code and/or results:</p>
<ul>
<li>Read this ASAP: <a href="https://r4ds.hadley.nz/communicate" class="uri">https://r4ds.hadley.nz/communicate</a>
</li>
<li>Then use this for reference: <a href="https://quarto.org/docs/reference/" class="uri">https://quarto.org/docs/reference/</a>
</li>
<li>Learn LaTeX in 30 minutes (not everything in here is relevant to Quarto): <a href="https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes" class="uri">https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes</a>
</li>
<li>LaTeX symbol reference guide: <a href="https://oeis.org/wiki/List_of_LaTeX_mathematical_symbols" class="uri">https://oeis.org/wiki/List_of_LaTeX_mathematical_symbols</a>
</li>
<li>LaTeX commands: <a href="https://www.overleaf.com/learn/latex/Commands" class="uri">https://www.overleaf.com/learn/latex/Commands</a>
</li>
</ul>
<p>To compile Quarto documents to pdf, run these commands first:</p>
<div class="cell">
<details class="code-fold"><summary>[R code]</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">install.packages</span>(<span class="st">"tinytex"</span>) </span>
<span id="cb1-2"><a></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>See <span class="citation" data-cites="knuth84">Knuth (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">1984</a>)</span> for additional discussion of literate programming.</p>
</section><section id="one-source-file-multiple-outputs" class="title-slide slide level1 center" data-number="1.10"><h1>
<span class="header-section-number">1.10</span> One source file, multiple outputs</h1>
<p>One of quarto’s excellent features is the ability to convert the same source file into multiple output formats; in particular, I am using the same set of source files to generate an html website, a pdf document, and a set of revealjs slide decks.</p>
<p>I use <code>::: notes</code> divs to mark text chunks to omit from the revealjs format but include in the website and pdf format.</p>
</section><section id="packages" class="title-slide slide level1 center" data-number="1.11"><h1>
<span class="header-section-number">1.11</span> Packages</h1>
<blockquote>
<p>This book espouses our philosophy of package development: anything that can be automated, should be automated. Do as little as possible by hand. Do as much as possible with functions. The goal is to spend your time thinking about what you want your package to do rather than thinking about the minutiae of package structure.</p>
</blockquote>
<ul>
<li><p>https://r-pkgs.org/introduction.html#:~:text=This%20book%20espouses,of%20package%20structure.</p></li>
<li><p>Read this ASAP: <a href="https://r-pkgs.org/whole-game.html" class="uri">https://r-pkgs.org/whole-game.html</a></p></li>
<li><p>Use the rest of <span class="citation" data-cites="rpkgs">Wickham and Bryan (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span> as a reference</p></li>
</ul></section><section id="submitting-packages-to-cran" class="title-slide slide level1 center" data-number="1.12"><h1>
<span class="header-section-number">1.12</span> Submitting packages to CRAN</h1>
<ul>
<li>Read this first: <a href="https://r-pkgs.org/release.html" class="uri">https://r-pkgs.org/release.html</a>
</li>
<li>A problems-and-solutions book is under construction: <a href="https://contributor.r-project.org/cran-cookbook/" class="uri">https://contributor.r-project.org/cran-cookbook/</a>
</li>
</ul></section><section id="git" class="title-slide slide level1 center" data-number="1.13"><h1>
<span class="header-section-number">1.13</span> Git</h1>
<p>94% of respondents to a <a href="https://survey.stackoverflow.co/2022/#section-version-control-version-control-systems">2022 Stack Overflow survey</a> reported using git for version control.</p>
<p><a href="https://r-pkgs.org/software-development-practices.html#sec-sw-dev-practices-git-github">More details</a></p>
<ul>
<li><p><em>Happy Git with R</em> <a href="https://happygitwithr.com/" class="uri">https://happygitwithr.com/</a></p></li>
<li><p><a href="https://usethis.r-lib.org/articles/pr-functions.html" class="uri">https://usethis.r-lib.org/articles/pr-functions.html</a></p></li>
<li><p><em>Git Magic</em> <a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/" class="uri">http://www-cs-students.stanford.edu/~blynn/gitmagic/</a></p></li>
<li><p><a href="https://ohshitgit.com/" class="uri">https://ohshitgit.com/</a></p></li>
<li><p><a href="https://maelle.github.io/saperlipopette/" class="uri">https://maelle.github.io/saperlipopette/</a></p></li>
</ul></section><section id="spatial-data-science" class="title-slide slide level1 center" data-number="1.14"><h1>
<span class="header-section-number">1.14</span> Spatial data science</h1>
<ul>
<li><span class="citation" data-cites="spatialds">Pebesma and Bivand (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2023</a>)</span></li>
</ul></section><section id="shiny-apps" class="title-slide slide level1 center" data-number="1.15"><h1>
<span class="header-section-number">1.15</span> Shiny apps</h1>
<ul>
<li>Read <span class="citation" data-cites="masteringshiny">Wickham (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2021</a>)</span> first</li>
<li>Use <span class="citation" data-cites="golembook">Fay et al. (<a href="#/contributing-to-r" role="doc-biblioref" onclick="">2021</a>)</span> as a reference</li>
</ul></section><section id="making-the-most-of-rstudio" class="title-slide slide level1 center" data-number="1.16"><h1>
<span class="header-section-number">1.16</span> Making the most of RStudio</h1>
<p>Over time, explore all the tabs and menus; there are a lot of great quality-of-life features.</p>
<ul>
<li>use the <code>History</code> tab to view past commands; you can rerun them or copy them into a source code file in one click! (up-arrow in the Console also enables this process, but less easily).</li>
</ul></section><section id="contributing-to-r" class="title-slide slide level1 smaller scrollable" data-number="1.17"><h1>
<span class="header-section-number">1.17</span> Contributing to R</h1>
<p>Many modern R packages are developed on Github, and welcome bug reports and pull requests (suggested edits to source code) through the Github interface.</p>
<p>To contribute to “base R” (the core systems), see <a href="https://contributor.r-project.org/" class="uri">https://contributor.r-project.org/</a></p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-appliedepiusingR" class="csl-entry" role="listitem">
Aragon, Tomas J. 2013. <em>Applied Epidemiology Using <span>R</span></em>. Online. <a href="https://tbrieder.org/epidata/course_reading/e_aragon.pdf">https://tbrieder.org/epidata/course_reading/e_aragon.pdf</a>.
</div>
<div id="ref-phdswR" class="csl-entry" role="listitem">
———. 2017. <em>Population Health Data Science with <span>R</span>: Transforming Data into Actionable Knowledge</em>. Online. <a href="https://bookdown.org/medepi/phds/">https://bookdown.org/medepi/phds/</a>.
</div>
<div id="ref-magrittr" class="csl-entry" role="listitem">
Bache, Stefan Milton, and Hadley Wickham. 2022. <em>Magrittr: A Forward-Pipe Operator for r</em>. <a href="https://CRAN.R-project.org/package=magrittr">https://CRAN.R-project.org/package=magrittr</a>.
</div>
<div id="ref-epirhb" class="csl-entry" role="listitem">
Batra, Neale, ed. 2024. <em>The Epidemiologist <span>R</span> Handbook</em>. Online. <a href="https://www.epirhandbook.com/">https://www.epirhandbook.com/</a>.
</div>
<div id="ref-r4epi" class="csl-entry" role="listitem">
Cannell, Brad, and Melvin Livingston. 2024. <em>R for Epidemiology</em>. Online. <a href="https://www.r4epi.com/">https://www.r4epi.com/</a>.
</div>
<div id="ref-changRgraphicscookbook" class="csl-entry" role="listitem">
Chang, Winston. 2024. <em>R Graphics Cookbook: Practical Recipes for Visualizing Data</em>. O’Reilly Media. <a href="https://r-graphics.org/">https://r-graphics.org/</a>.
</div>
<div id="ref-golembook" class="csl-entry" role="listitem">
Fay, Colin, Sébastien Rochette, Vincent Guyader, and Cervan Girard. 2021. <em>Engineering Production-Grade Shiny Apps</em>. Chapman; Hall/CRC. <a href="https://engineering-shiny.org/">https://engineering-shiny.org/</a>.
</div>
<div id="ref-kleinman2009sas" class="csl-entry" role="listitem">
Kleinman, Ken, and Nicholas J Horton. 2009. <em>SAS and r: Data Management, Statistical Analysis, and Graphics</em>. Chapman; Hall/CRC. <a href="https://www.routledge.com/SAS-and-R-Data-Management-Statistical-Analysis-and-Graphics-Second-Edition/Kleinman-Horton/p/book/9781466584495">https://www.routledge.com/SAS-and-R-Data-Management-Statistical-Analysis-and-Graphics-Second-Edition/Kleinman-Horton/p/book/9781466584495</a>.
</div>
<div id="ref-knuth84" class="csl-entry" role="listitem">
Knuth, Donald E. 1984. <span>“Literate Programming.”</span> <em>Comput. J.</em> 27 (2): 97–111. <a href="https://doi.org/10.1093/comjnl/27.2.97">https://doi.org/10.1093/comjnl/27.2.97</a>.
</div>
<div id="ref-kuhn2022tidy" class="csl-entry" role="listitem">
Kuhn, Max, and Julia Silge. 2022. <em>Tidy Modeling with r</em>. " O’Reilly Media, Inc.". <a href="https://www.tmwr.org/">https://www.tmwr.org/</a>.
</div>
<div id="ref-muenchen2011r" class="csl-entry" role="listitem">
Muenchen, Robert A. 2011. <em>R for SAS and SPSS Users</em>. Springer Science &amp; Business Media. <a href="https://link.springer.com/book/10.1007/978-1-4614-0685-3">https://link.springer.com/book/10.1007/978-1-4614-0685-3</a>.
</div>
<div id="ref-practicalr4epi" class="csl-entry" role="listitem">
Myatt, Mark. 2022. <em>Practical <span>R</span> for Epidemiologists</em>. Online. <a href="https://practical-r.org/index.html">https://practical-r.org/index.html</a>.
</div>
<div id="ref-NahhasIntroR" class="csl-entry" role="listitem">
Nahhas, Ramzi W. 2023. <em>An Introduction to r for Research</em>. <a href="https://bookdown.org/rwnahhas/IntroToR/">https://bookdown.org/rwnahhas/IntroToR/</a>.
</div>
<div id="ref-NahhasIRMPHR" class="csl-entry" role="listitem">
———. 2024. <em>Introduction to Regression Methods for Public Health Using <span>R</span></em>. CRC Press. <a href="https://www.bookdown.org/rwnahhas/RMPH/">https://www.bookdown.org/rwnahhas/RMPH/</a>.
</div>
<div id="ref-spatialds" class="csl-entry" role="listitem">
Pebesma, Edzer, and Roger Bivand. 2023. <em>Spatial Data Science: With Applications in <span>R</span></em>. Boca Raton: Chapman; Hall/CRC. <a href="https://doi.org/10.1201/9780429459016">https://doi.org/10.1201/9780429459016</a>.
</div>
<div id="ref-rapR" class="csl-entry" role="listitem">
Rodrigues, Bruno. 2023. <em>Building Reproducible Analytical Pipelines with r</em>. Online. <a href="https://raps-with-r.dev/">https://raps-with-r.dev/</a>.
</div>
<div id="ref-wickham2019advanced" class="csl-entry" role="listitem">
Wickham, Hadley. 2019. <em>Advanced r</em>. Chapman; Hall/CRC. <a href="https://adv-r.hadley.nz/index.html">https://adv-r.hadley.nz/index.html</a>.
</div>
<div id="ref-masteringshiny" class="csl-entry" role="listitem">
———. 2021. <em>Mastering Shiny</em>. " O’Reilly Media, Inc.". <a href="https://mastering-shiny.org/">https://mastering-shiny.org/</a>.
</div>
<div id="ref-welcometidyverse" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-rpkgs" class="csl-entry" role="listitem">
Wickham, Hadley, and Jennifer Bryan. 2023. <em><span>R</span> Packages</em>. O’Reilly Media, Inc. <a href="https://r-pkgs.org/">https://r-pkgs.org/</a>.
</div>
<div id="ref-r4ds" class="csl-entry" role="listitem">
Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. <em>R for Data Science</em>. " O’Reilly Media, Inc.". <a href="https://r4ds.hadley.nz/">https://r4ds.hadley.nz/</a>.
</div>
</div>
</section>
</div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="site_libs/revealjs/plugin/notes/notes.js"></script><script src="site_libs/revealjs/plugin/search/search.js"></script><script src="site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/d-morrison\.github\.io\/rme\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>


</body></html>