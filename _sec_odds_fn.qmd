{{< include macros.qmd >}}

::: {#exr-prob-to-odds}
Find a general formula for converting probabilities into odds.
:::

---

:::{#sol-prob-to-odds}

Using @def-odds and @cor-p-neg:

$$
\ba
\odds &\eqdef \frac{\Pr(A)}{\Pr(\neg A)}
\\ &= \frac{\pi}{1-\pi}
\ea
$$

:::

---

:::{#thm-prob-to-odds}
If $\prob$ is the probability of an event $A$
and $\odds$ is the corresponding odds of $A$,
then:

$$\odds = \frac{\prob}{1-\prob}$${#eq-odds-prob}

:::

::: proof
By @sol-prob-to-odds.
:::

---

:::{#def-odds-fn}
#### Odds function

The **odds function** is defined as:
$$\oddsf{\pi} \eqdef \frac{\pi}{1-\pi}$$ {#eq-def-odds-fn}

:::

---

:::{#cor-oddsf-to-odds}
If $\prob$ is the probability of an outcome $A$
and $\odds$ is the corresponding odds of $A$,
then:

$$\odds = \oddsf{\prob}$$

:::

---

::: proof

By @thm-prob-to-odds and @def-odds-fn.

:::

---

::: notes
Thus, the odds function transforms probabilities into odds. 
@fig-odds-probs graphs the shape of this function.
:::

```{r}
#| code-fold: true
#| label: fig-odds-probs
#| fig-cap: "Odds versus probability"

odds <- function(pi) pi / (1 - pi)
library(ggplot2)
ggplot() +
  geom_function(
    fun = odds,
    arrow = arrow(ends = "last"),
    mapping = aes(col = "odds function")
  ) +
  xlim(0, .99) +
  xlab("Probability") +
  ylab("Odds") +
  geom_abline(aes(
    intercept = 0,
    slope = 1,
    col = "y=x"
  )) +
  theme_bw() +
  labs(colour = "") +
  theme(legend.position = "bottom")
```
